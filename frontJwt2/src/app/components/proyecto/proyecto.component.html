

<div class="row" id="rowProyecto">

  <div id="proy" class="container  mb-5 mt-5" >
    <div class="conteiner-fluid " > 
      <h3>Proyectos</h3>
        <div class="accordion m-3 mb-4" id="accordionPanelsStayOpenExample">
            <div *ngFor="let proyecto of proyectos" class="accordion-item ">
              <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false" aria-controls="panelsStayOpen-collapseOne">
                  <strong>{{proyecto.name}}</strong>
                </button>
              </h2>
              <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne">
                <div class="accordion-body">
                 
                  <div class="card" style="width: 70rem;">
                    <div class="container">
                      <div class="row  m-3">
                        

                       
                          <div class="col-3 ">
                            <a href="{{proyecto.urlProyect}}">
                            <img src="{{proyecto.urlImage}}" class="card-img-top" style="width:160px;height:160px;"alt="...">
                        </a>
                        </div>
                          <div class="col-9"> <p><strong>Proyecto: </strong>{{proyecto.name}}</p> <p><strong>Descripción:</strong> {{proyecto.detail}}</p></div>
                      </div>
                    </div>

                  
                  </div>
              
              
              
                </div>
                             
                <div  class=" d-grid gap-1 d-md-flex justify-content-md-end">   
                <div class = "mt-2"*ngIf="isAdmin"><button class="btn btn-outline-warning" routerLink="/editarProyecto/{{proyecto.proyectid}}"><i class="far fa-edit"></i> Editar</button></div>
                <div class= "mt-2"*ngIf="isAdmin"><button class="btn btn-outline-danger" (click)="borrar(proyecto.proyectid)"><i class="far fa-trash-alt"></i> Eliminar</button></div>
                </div>















                
            </div>
          </div><br/>
        </div>
        <div class="mt-3" *ngIf="isAdmin">
          <button class="btn btn-outline-success btn-lg" routerLink="/nuevoProyecto">
            <i class="fas fa-plus-circle"></i> Nuevo Proyecto</button>
        </div>
  </div>




<!--
<app-menu></app-menu>
<div class="container">
  <table class="table table-dark">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Nombre</th>
        <th scope="col">Precio</th>
        <th scope="col">Ver</th>
        <th scope="col" *ngIf="isAdmin">Editar</th>
        <th scope="col" *ngIf="isAdmin">Borrar</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let proyecto of proyectos">
        <td>{{proyecto.id}}</td>
        <td>{{proyecto.nombre}}</td>
        <td>{{proyecto.detalle}}</td>
        <td>{{proyecto.imagen}}</td>
        <td>{{proyecto.urlProyecto}}</td>
        <td><button class="btn btn-outline-primary" routerLink="/detalle/{{proyecto.id}}"><i class="far fa-eye"></i> Ver</button></td>
        <td *ngIf="isAdmin"><button class="btn btn-outline-warning" routerLink="/editar/{{proyecto.id}}"><i class="far fa-edit"></i> Editar</button></td>
        <td *ngIf="isAdmin"><button class="btn btn-outline-danger" (click)="onDelete(proyecto.id)"><i class="far fa-trash-alt"></i> Eliminar</button></td>
      </tr>
    </tbody>
  </table>
  <div class="mt-3" *ngIf="isAdmin">
    <button class="btn btn-outline-success btn-lg" routerLink="/nuevo">
      <i class="fas fa-plus-circle"></i> Nuevo Producto</button>
  </div>

</div>
<div
  class="d-grid px-5 gap-2 d-md-flex justify-content-md-end"
  *ngIf="isAdmin"
>
  <button
    type="button"
    class="btn btn-primary btn-sm"
    data-bs-toggle="modal"
    data-bs-target="#addProyectoModal"
    (click)="abrirModal('add')"
  >
    Registrar Proyecto
  </button>
</div>


<div class="row" id="rowProyecto">

  <div id="proy" class="container  mb-5 mt-5" >
    <div class="conteiner-fluid " > 
      <h3>Proyectos</h3>
        <div class="accordion m-3 mb-4" id="accordionPanelsStayOpenExample">
            <div *ngFor="let proyecto of proyectos" class="accordion-item ">
              <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false" aria-controls="panelsStayOpen-collapseOne">
                  <strong>{{proyecto.nombre}}</strong>
                </button>
              </h2>
              <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne">
                <div class="accordion-body">
                  <p><strong>Proyecto: {{proyecto.nombre}}</strong></p>
                  <p><strong>Descripción: </strong>{{proyecto.detalle}} </p>
               </div>
               <div class="col text-end" *ngIf="isAdmin">
                <a type="button" class="btn btn-primary btn-sm " data-bs-toggle="modal" data-bs-target="#addProyectoModal"
                  (click)="abrirModal('edit',proyecto)">
                  Editar
                </a>
                <a type="button" class="btn btn-secondary btn-sm " data-bs-toggle="modal"
                  data-bs-target="#deleteProyectoModal" (click)="abrirModal('delete',proyecto)">
                  Eliminar
                </a>
              </div>
                
            </div>
          </div><br/>
        </div>
  </div>





  <div
    class="modal fade"
    id="addProyectoModal"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
    role="document"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="tituloModalProyecto"></h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true"></span>
          </button>
        </div>

        <div class="modal-body">
          <form
            [formGroup]="form"
            class="row g-3"
            (ngSubmit)="guardarProyecto($event)"
            novalidate
          >
            <div class="input-group form-group">
              <input
                type="hidden"
                formControlName="id"
                name="id"
                id="id"
                class="form-control"
              />
              <label for="nombre" class="input-group-text textoLabel"
                >Nombre
              </label>
              <input
                type="text"
                class="form-control"
                name="nombre"
                placeholder="Nombre del proyecto"
                formControlName="nombre"
                id="nombre"
                [ngClass]="{
                  'is-invalid': Nombre?.errors && Nombre?.touched,
                  'is-valid': !Nombre?.errors && Nombre?.touched
                }"
                required
              />

              <div
                *ngIf="Nombre?.hasError('required')"
                class="invalid-feedback"
              >
                El nombre del proyecto es requerido
              </div>
            </div>

            <div class="col-md-4 input-group form-group">
              <label for="detail" class="input-group-text textoLabel"
                >Detalle</label
              >
              <input
                type="text"
                class="form-control"
                formControlName="descripcion"
                name="descripcion"
                id="descripcion"
                placeholder="Detalle proyecto"
              />
            </div>

            <div class="col-md-4 input-group form-group">
              <label for="imagen" class="input-group-text textoLabel"
                >Url Imagen</label
              >
              <input
                type="text"
                class="form-control"
                formControlName="imagen"
                name="imagen"
                id="imagen"
                placeholder="Url Imagen proyecto"
              />
            </div>

            <div class="col-md-4 input-group form-group">
              <label for="urlProyecto" class="input-group-text textoLabel"
                >Url Proyecto</label
              >
              <input
                type="text"
                class="form-control"
                formControlName="urlProyecto"
                name="urlProyecto"
                id="urlProyecto"
                placeholder="Url Proyecto"
              />
            </div>

            <div class="row" style="padding-top: 15%">
              <label>Vista Previa</label>

              <p class="h5">{{ form.value["nombre"] }}</p>
              <p class="h7">{{ form.value["descripcion"] }} </p>
              <p >{{ form.value["imagen"] }} </p>
              <p >{{ form.value["urlProyecto"] }} </p>
            </div>

            <div class="modal-footer form-group">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>

              <button
                type="submit"
                class="btn btn-primary"
                data-bs-dismiss="modal"
                [disabled]="form.invalid"
              >
                Guardar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

 
  <div class="modal" id="deleteProyectoModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Confirmación</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <p>
            ¿Está seguro de eliminar el proyecto "{{
              borrarProyecto?.nombre
            }}"?
          </p>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cerrar
          </button>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-dismiss="modal"
            (click)="onDelete(borrarProyecto!.id)"
          >
            Eliminar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
-->
